// Variables
@import "variables";

@import '_mixins';

// Bootstrap
@import "~bootstrap/scss/bootstrap";

body {
	//background:lighten($cyan, 10%);
	background: $body-bg;
  display: flex;
  align-items: stretch;
  font-family: $font-family-base;
  font-size: $font-size-base;
}

a{
  color: $sable;
  text-decoration: none;
  &:hover{
    color: $white;
  }
}

//admin-sidebar
#global-wrapper {
  width: 100%;
  .error{
    min-height: 100vh;
  }
}

#sidebar {
  background-color: lighten($dark-gray, 5%);
  color: $white;
  min-width: $navbar-width;
  max-width: $navbar-width;
  min-height: 100vh;
  transition: all 0.3s;
  margin-left: -$navbar-width;
  a{
    color: $white;
  }
  &.active{
    margin-left: 0px;
  }
  #fixed-sidebar{
    position: fixed;
    width: $navbar-width;
  }
  .sidebar-header{
    text-align: center;
    padding: 20px;
    background: $dark-gray;
    border-bottom: 1px solid $blue;
  }
  ul{
    &.components {
      padding: 20px 0;
    }
    h4{
      text-align: center;
      padding: 10px;
    }
    li a{
      color: $white;
      padding: 10px;
      font-size: 1.1em;
      display: block;
      cursor: pointer;
      &:hover{
        color: $dark-gray;
        background: $light-gray;
      }
    }
    /*li.active > a, a[aria-expanded="true"] {
      color: $white;
      background: #6d7fcc;}*/
    ul a {
      font-size: 0.9em !important;
      padding-left: 30px !important;
      background-color: lighten($dark-gray, 15%);
    }
    .sidebarCollapse{
      text-align: right;
      font-size: 1.8em;
      margin-right: 15px;
      cursor: pointer;
    }
  }
}

/*
@include media-breakpoint-up(sm) {
  #sidebar {
      margin-left: -$navbar-width;
  }
  #sidebar.active {
      margin-left: 0;
  }
}*/

a[data-toggle="collapse"] {
  position: relative;
}

.dropdown-item{
  cursor: pointer;
}

.head {
  .sidebarCollapse{
    position: fixed;
    z-index: 500;
    top: 200px;
  }
	
	#logo {
    margin: $spacer;
    transition: all 0.4s ease;
    height: $spacer*6;
    img{
      max-height: 100%;
      width: auto;
    }
	}

	transition:all 1s ease;

  .navbar{
    color: $white;
    font-size: 1.3em;
    padding-top: 0;
    //a{
      //color: $white;
    //}
    //.nav-item{
      //white-space: nowrap;
      //margin: 0 $margin-base/2 $margin-base/2 $margin-base/2;
      //&.active{
        ////background: linear-gradient(to top right, $green, white);
        //border-bottom: 4px $white solid;
      //}
      //&:hover{
        //border-bottom: 4px $sable solid;
      //}
    //}
    ul{
      width: 100%;
    }

    .navbar-toggler{
      color: $white;
    }
    .navbar-nav{
      flex-direction: row;
    }

    .svg-wrapper {
      //height: 60px;
      //width: 320px;
      margin: 0 $spacer 0 $spacer;
      position: relative;

      a{
        color: $white;
      }

     svg {
       height: 60px;
       width: 110px;
        .shape {
          transition: all 0.5s ease;
          fill: transparent;
          stroke-dasharray: 70 200;
          stroke-dashoffset: -190;
          stroke-width: 0px;
          stroke: $white;
          &.active{
            stroke-width: 2px;
          }
        }
      }

      .text {
        position: absolute;
        left: 50%;
        top: 18%;
        transform: translate(-50%);
        white-space: nowrap;
      }

      &:hover .shape {
        stroke-dasharray: 760;
        stroke-dashoffset: 0;
        stroke-width: 4px;
        &.active{
          stroke-width: 4px;
        }
      }
    }
  }

	h1 {
		display: block;
		background-position: left top;
		background-repeat: no-repeat;
		@include retinize('logo', 'png', 183px, 64px);
		@include size(183px, 64px);
		//text-indent: -9999px;
	}	

	&.scrolled {
  		height: ($line-height-base*3px);
  		margin-bottom: 3em;
  		position:fixed;
  		background:white;
  		z-index: 1000;
  		width: 100%;
		padding:$line-height-base*1px;

		nav {
			ul {
				margin:$line-height-base*1px 0 0 0;
				@include media-breakpoint-up(sm) {
					margin:0;
				}
				li {
					display: inline-block;
          @include media-breakpoint-down(sm) {
						padding: 0;
					}

					font-size:($font-size-base*0.85);
				}
			}
		}

		h1 {
			@include retinize('logo-petit', 'png', 117px, 41px);
			@include size(117px, 41px);
		}

		font-size: ($font-size-base*0.5);

	}
}


@include media-breakpoint-up(sm) {
	#start-content {
		padding-top:80px;
	}
}

h2, .h2-like {
	margin:$line-height-base*1px 0 $line-height-base*1px 0;
}

p.lead {
	padding:$line-height-base*1px 0 ($line-height-base*2px) 0;
	font-size:$font-size-base*1.075;
  @include media-breakpoint-up(lg) {
		font-size: $font-size-base*1.1;
	}
}

div.heading {
  background-attachment: fixed;
  background-position: center;
  background-repeat: no-repeat;
  background-size: 100%;
  position: relative;
	// font-family: $font-family-serif;
	font-size: ($font-size-base*1.2);
	//font-weight:600;
	display:block;
	//line-height:($line-height-base*12rem);
	text-align: center;
	color: $orange;
  text-shadow: 2px 2px 4px $light-black, -2px -2px 4px $light-black;
	/* Set a specific height */
  min-height: ($line-height-base*12px);
  transition: all 0.8s ease;

  .overlay{
    padding: $line-height-base*12vh 0 $line-height-base*18vh ;
    background: linear-gradient(to left bottom, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.1) 50%, rgba(0, 0, 0, 0.8));
  }

  h1{
    letter-spacing: 8px;
    font-size: $font-size-base * 4;
    font-weight:600;

    @include media-breakpoint-down(sm) {
      font-size: $font-size-base * 2.5;
    }

    @include media-breakpoint-down(xs) {
      font-size: $font-size-base * 2;
      letter-spacing: normal;
    }
  }
}

#replacement .card{
  z-index: 30;
}

.svg-more{
  position: absolute;
  left: 50%;
  bottom: 10%;
  transform: translate(-50%,0);
  z-index: 25;
  width: 80px;
  height: 80px;
  circle{
    transition: all 0.8s ease;
    opacity:1;
    fill:$black;
    fill-opacity:0.4;
    stroke:$white;
    stroke-width:7;
    stroke-linecap:round;
    stroke-dasharray:260 60;
    stroke-dashoffset:-30;
    stroke-opacity:1;
    paint-order:normal;
  }
  .chevron{
    transition: all 0.8s ease;
    transform: matrix(1.1,0,0,1.4,-1.6,-68);
  }
  rect{
    transition: all 0.8s ease;
     fill:$white;
     //opacity:1;
     //fill-opacity:1;
     //stroke:none;
     //stroke-width:7.09533501;
     //stroke-linecap:round;
     //stroke-miterlimit:4;
     //stroke-dasharray:56.76267898,28.3813395;
     //stroke-dashoffset:0;
     //stroke-opacity:1
  }
  &:hover{
    circle{
      fill-opacity:0.8;
      stroke:$orange;
      stroke-dasharray:150 63;
      stroke-dashoffset:-400;
    }
    .chevron{
      stroke:$orange;
      transform: matrix(1.1,0,0,1.4,-1.6,-35);
    }
    rect{
       fill:$orange;
    }
  }
  @include media-breakpoint-down(sm) {
    width: 60px;
    height: 60px;
    bottom: 15%;
  }
}

footer {
  background-color: $light-black;
	font-size: ($font-size-base);
  color: $white;
  line-height : $line-height-base;
	margin:($line-height-base*4px) 0 0 0;
	padding:$line-height-base*1px 0 ($line-height-base*2px) 0;

  a{
    color: $white;
    text-decoration: none;
    &:hover{
      color: $white;
    }
  }

  h2{
    font-size: $font-size-base * 2.5;
    font-weight:600;

    @include media-breakpoint-down(sm) {
      font-size: $font-size-base * 2;
    }
  }

  .footer-item{
    opacity: 0.5;
    margin: $spacer auto $spacer auto;
  }

  ul{
  }

  li{
    .circle-border{
      transition: all 0.3s ease;
      width: $line-height-base*3rem;
      font-size: $font-size-base*1.5;
      border-radius: 50%;
      //border: 1px $white solid;
      color: $white;
      padding: $spacer/2;
      cursor: pointer;
      &:hover{
        color: $black;
        background-color: rgba(255,255,255,0.5);
      }
    }
  }
}

/*** Back to top ***/
.cd-top {
  //visibility: hidden;
  position: fixed;
  bottom: 40px;
  right: -50px;
  z-index: 10000;
  overflow: hidden; 
  text-indent: 100%;
  white-space: nowrap;
  
  background-position: center center;
	background-repeat: no-repeat;
  background-image: url('/images/chevron-circle-up-light.svg');
	@include size(47px, 46px);
  @include opacity(0);
  @include transition(all .3s);
  &.cd-is-visible { /* the button becomes visible */
    right: 50px;
    //visibility: visible;
    @include opacity(1);
    @include transition(all .3s);
    &:hover{
      transform: translateY(-10px);
    }
    @include media-breakpoint-down(sm) {
      right: 25px;
    }
  }
  &.cd-fade-out { /* if the user keeps scrolling down, the button is out of focus and becomes less visible */
       @include opacity(.7);
  }
  .no-touch &:hover {
      @include opacity(1);
  }
}

.card-header{
  text-align: center;
  h1{
      line-height: 50px;
    }
  }

.card-body{
  a.pw-change{
    color: $cyan;
    cursor: pointer;
  }
}

.form-group.last{
  margin-top: $spacer;
}

#upform{
  z-index: 100;
  .row{
    margin: 10px;
    padding: 10px;
    background: #fff;
    border: 1px solid #82b7ec;
    border-radius: 3px;
    box-shadow: none;
  }
  #preview{
    min-height: 150px;
    img{
      max-width: 100%;
    }
  }
}

.after-rubrique{
  color: $text-color;
  .row{
    position: relative;
    .bloc-button,.cols-button{
      font-size: initial;
      position: absolute;
      top: -5*$spacer;
      .dropdown-menu{
        right: 0;
        left: inherit;
        text-shadow: none;
      }
    }

    .bloc-button{
      right: 0px;
    }

    .cols-button{
      right: 130px;
    }

    img{
      max-width: 100%;
      height: auto;
    }
    iframe{
      width: 100%;
    }
  }
}

.after-rubrique{
  [class*="col-"]{
    transition: all 0.8s ease;
    @include destroy_button(-25px, -5px);
    margin-bottom: $spacer;
  }
  [id*="blocs-rubrique"]{
    padding-top: $spacer;
  }
}

.rubrique-container{

  font-family: $font-family-titles;
  @include destroy_button(15px, 15px);

  .dark-left, .dark-right{
    position: absolute;
    bottom: -14%;
    height: 28%;
    width: 55%;
    background-color: $body-bg;
  }
  .dark-left{
    left: -20px;
    transform: rotate(7deg);
  }
  .dark-right{
    right: -20px;
    transform: rotate(-7deg);
  }
}

.fa-cog{
  display: none;
}

#contact{
  margin-bottom: $spacer;
  #form-contact{
    .fa-cog{
      display: none;
    }
  }
}

.dropy{
  img{
    max-width: 100%;
    height: auto;
  }
  iframe{
    max-width: 100%;
  }
}

#drag-mode{
  .dropy{
    transform: scale(0.8,0.8);
    height: 250px;
    overflow: hidden;
    text-overflow: ellipsis;
    .upper{
      position: absolute;
      z-index: 2000;
      width: 100%;
      height: 100%;
    }
  }

  .large-bloc .dropy{
    height: 60px;
  }

  .dropzone{
    flex: none;
  }

  .indropzone{
    border: 1px $light-gray solid;
  }
}

.center-card{
  justify-content: center;
  align-items: center;
  min-height: 60vh;
}

.mce-edit-focus{
  border: 1px $light-gray solid;
}
